/** * 根据字典类型等填充下拉框 *  * @param value *            字典类型 * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode */function resourceType(value, id, all, currentCode) {	var sendData = {		"dic_type" : value	};	$.ajax({		async : true,		type : "POST",		url : base.domain + "init/loadDicBytype",		data : sendData,		dataType : 'json',		success : function(data) {			var list = data;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].dicCode + "'>"						+ list[i].dicValue + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].dicCode								+ "' selected=\"selected\">" + list[i].dicValue								+ "</option>";					}				}				$("#" + id).append(op);			}		}	});}/** * 根据字典类型等填充下拉框（追加是否同步或异步） *  * @param value *            字典类型 * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode */function resourceList(value, id, all, currentCode, flag) {	var sendData = {		"dic_type" : value	};	$.ajax({		async : flag,		type : "POST",		url : base.domain + "init/loadDicBytype",		data : sendData,		dataType : 'json',		success : function(data) {			var list = data;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].dicCode + "'>"						+ list[i].dicValue + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].dicCode								+ "' selected=\"selected\">" + list[i].dicValue								+ "</option>";					}				}				$("#" + id).append(op);			}		}	});}/** * 根据字典类型等填充下拉框---带回调函数 *  * @param value *            字典类型 * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode *  * @param method *            回调函数 */function resourceTypeOfMethod(value, id, all, currentCode, method) {	var sendData = {		"dic_type" : value	};	$.ajax({		async : true,		type : "POST",		url : base.domain + "init/loadDicBytype",		data : sendData,		dataType : 'json',		success : function(data) {			var list = data;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].dicCode + "'>"						+ list[i].dicValue + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].dicCode								+ "' selected=\"selected\">" + list[i].dicValue								+ "</option>";					}				}				$("#" + id).append(op);			}			method();		}	});}/** * 同步 * lvchongchong * 大额定制 * 查询状态只显示有效状态，去掉 * 去掉关联投资成功、投资成功、待确认 *  * @param value *            字典类型 * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode */function resourceNewTypeasync(value, id, all, currentCode) {	var sendData = {		"dic_type" : value	};	$.ajax({		async : false,		type : "POST",		url : base.domain + "/init/loadDicNewBytype",		data : sendData,		dataType : 'json',		success : function(data) {			var list = data;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].dicCode + "'>"						+ list[i].dicValue + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].dicCode								+ "' selected=\"selected\">" + list[i].dicValue								+ "</option>";					}				}				$("#" + id).append(op);			}		}	});}/** * 同步 *  * @param value *            字典类型 * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode */function resourceTypeasync(value, id, all, currentCode) {	var sendData = {		"dic_type" : value	};	$.ajax({		async : false,		type : "POST",		url : base.domain + "init/loadDicBytype",		data : sendData,		dataType : 'json',		success : function(data) {			var list = data;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].dicCode + "'>"						+ list[i].dicValue + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].dicCode								+ "' selected=\"selected\">" + list[i].dicValue								+ "</option>";					}				}				$("#" + id).append(op);			}		}	});}/** * 查询城市 *  * @param value *            1-省；2-市；3-县 *  * @param id *            dom元素id * @param currentClass *            当前级别 * @param currentCode */function cityutil(value, id, currentClass, currentCode, flag) {	var sendData = {		"type" : value,		"areaCode" : currentCode	};	if ($.isNull(currentCode) && value != "1") {		$("#" + id).empty();		$("#" + id).append("<option value =''>" + currentClass + "</option>");	} else {		$.ajax({			async : flag,			type : "POST",			url : base.domain + "/area/queryArea",			data : sendData,			dataType : 'json',			success : function(data) {				var list = data.obj;				$("#" + id).empty();				if (currentClass != null) {					$("#" + id).append(							"<option value =''>" + currentClass + "</option>");				}				for ( var i = 0; i < list.length; i++) {					var op = "<option value ='" + list[i].cityCode + "'>"							+ list[i].cityName + "</option>";					if (currentCode != null) {						if (currentCode == list[i].cityCode) {							op = "<option value ='" + list[i].cityCode									+ "' selected=\"selected\">" + list[i].cityName									+ "</option>";						}					}					$("#" + id).append(op);				}			}		});	}	}/** * 查询城市 *  * @param companyCode *            保险公司代码 *  * @param value *            1-省；2-市；3-县 *  * @param id *            dom元素id * @param currentClass *            添加项 * @param currentCode *            当前代码' * @param upperCode *            上级代码 *  */function AllCityUtil(companyCode, value, id, currentClass, upperCode,		currentCode, flag) {	if (companyCode == "011") {		if (value == "1") {			addressSelect(id, currentClass, currentCode, "0", flag);		} else {			addressSelect(id, currentClass, currentCode, upperCode, flag);		}	} else {		cityutil1(value, id, currentClass, upperCode, currentCode, flag);	}}/** * 查询城市 *  * @param value *            1-省；2-市；3-县 *  * @param id *            dom元素id * @param currentClass *            当前级别 * @param currentCode */function cityutil1(value, id, currentClass, upperCode, currentCode, flag) {	var sendData = {		"type" : value,		"areaCode" : upperCode	};	if ($.isNull(upperCode) && value != "1") {		$("#" + id).empty();		$("#" + id).append("<option value =''>" + currentClass + "</option>");	} else {		$.ajax({			async : flag,			type : "POST",			url : base.domain + "/area/queryArea",			data : sendData,			dataType : 'json',			success : function(data) {				var list = data.obj;				$("#" + id).empty();				if (currentClass != null) {					$("#" + id).append(							"<option value =''>" + currentClass + "</option>");				}				for ( var i = 0; i < list.length; i++) {					var op = "<option value ='" + list[i].cityCode + "'>"							+ list[i].cityName + "</option>";					if (currentCode != null) {						if (currentCode == list[i].cityCode) {							op = "<option value ='" + list[i].cityCode									+ "' selected=\"selected\">"									+ list[i].cityName + "</option>";						}					}					$("#" + id).append(op);				}			}		});	}}/** * 查询所有商品的枚举 *  *  * @param id *            dom元素id * @param all *            空选项值 * @param currentCode *  * @param flag */function productutil(id, all, currentCode, flag) {	$.ajax({		async : flag,		type : "POST",		url : base.domain + "/productmain/findAllProduct",		data : null,		dataType : 'json',		success : function(data) {			var list = data.returns.gfbProductMains;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].productId + "'>"						+ list[i].productName + "</option>";				if (currentCode != null) {					if (currentCode == list[i].cityCode) {						op = "<option value ='" + list[i].productId								+ "' selected=\"selected\">"								+ list[i].productName + "</option>";					}				}				$("#" + id).append(op);			}		}	});}/** * 查询职业 *  * @param value *            01-大类；02-一级；03-二级 *  * @param id *            dom元素id * @param currentClass *            当前级别 * @param currentCode */function occutil(value, id, currentClass, currentCode, flag) {	if (currentCode == null) {		currentCode = "";	}	var sendData = {		"request" : {			"type" : value,			"superCode" : currentCode		}	};	var jsonStr = JSON.stringify(sendData);	$.ajax({		async : flag,		type : "POST",		url : base.domain + "/occ/getoccByType",		data : "jsonKey=" + aesEncrypt(jsonStr),		dataType : 'json',		success : function(data) {			var list = data.occs;			$("#" + id).empty();			if (currentClass != null) {				$("#" + id).append(						"<option value =''>" + currentClass + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].occCode + "' name ='"						+ list[i].occClass + "'>" + list[i].occName						+ "</option>";				if (currentCode != null) {					if (currentCode == list[i].cityCode) {						op = "<option value ='" + list[i].occCode + "' name ='"								+ list[i].occClass + "' selected=\"selected\">"								+ list[i].occName + "</option>";					}				}				$("#" + id).append(op);			}		}	});}///**// * 查询太阳联合职业// * // * // * @param id// *            dom元素id// * @param currentClass// *            当前级别// *///function occutil(id, currentClass, currentCode, flag) {//	$.ajax({//		async : flag,//		type : "POST",//		url : base.domain + "/occ/getAllOccSpecial",//		data : null,//		dataType : 'json',//		success : function(data) {//			var list = data.occs;//			$("#" + id).empty();//			if (currentClass != null) {//				$("#" + id).append(//						"<option value =''>" + currentClass + "</option>");//			}//			for ( var i = 0; i < list.length; i++) {//				var op = "<option value ='" + list[i].occCode + "' name ='"//						+ list[i].occClass + "'>" + list[i].occName//						+ "</option>";//				if (currentCode != null) {//					if (currentCode == list[i].cityCode) {//						op = "<option value ='" + list[i].occCode + "' name ='"//								+ list[i].occClass + "' selected=\"selected\">"//								+ list[i].occName + "</option>";//					}//				}//				$("#" + id).append(op);//			}//		}//	});//}/** * 查询阳光保险公司城市接口 *  * @param id * @param currentClass * @param currentCode * @param flag * @param async */function addressSelect(id, currentClass, currentCode, flag, async) {	var data = {		"province" : flag,// province值为上级的代码，province=0时取全部省		"encoding" : 'GBK',		"callback" : 'jsonp1045'	};	var sendData = {		request : data	};	sendData = "jsonKey=" + aesEncrypt(JSON.stringify(sendData));	if ($.isNull(flag) && flag != "0") {		$("#" + id).empty();		$("#" + id).append("<option value =''>" + currentClass + "</option>");	} else {		$.ajax({			async : async,			type : "POST",			url : base.domain + "cx/selectDisAddressInfo",			data : sendData,			dataType : 'json',			success : function(data) {				if (data != "") {					var paramlist = eval("(" + data + ")");					if (paramlist.status.statusCode == "000000") {						if (paramlist != null || paramlist != "") {							var list = paramlist.disAddressinfo.rows;							$("#" + id).empty();							if (currentClass != null) {								$("#" + id).append(										"<option value =''>" + currentClass												+ "</option>");							}							for ( var i = 0; i < list.length; i++) {								var op = "<option value ='" + list[i].CODE										+ "'>" + list[i].TITLE + "</option>";								if (currentCode != null) {									if (currentCode == list[i].cityCode) {										op = "<option value ='" + list[i].CODE												+ "' selected=\"selected\">"												+ list[i].TITLE + "</option>";									}								}								$("#" + id).append(op);							}						}					} else {						createPopup("查询配送地址信息失败！");					}				} else {					createPopup("查询配送地址信息异常！");				}			}		});	}}/** * 一级菜单渲染 *  *  * @param id *            dom元素id * @param currentClass *            当前级别 * @param currentCode */function firstResource(id, currentClass, currentCode, flag) {	$.ajax({		async : flag,		type : "POST",		url : base.domain + "resource/findResourcesFirstClass",		data : null,		dataType : 'json',		success : function(data) {			data = eval("(" + data + ")");			var list = data.resources;			$("#" + id).empty();			if (currentClass != null) {				$("#" + id).append(						"<option value =''>" + currentClass + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].id + "'>"						+ list[i].resourceName + "</option>";				if (currentCode != null) {					if (currentCode == list[i].dicCode) {						op = "<option value ='" + list[i].id								+ "' selected=\"selected\">"								+ list[i].resourceName + "</option>";					}				}				$("#" + id).append(op);			}		}	});}/************************** 根据管理员权限展示所属机构* @param ：dic_type 当前字典类型代码* @param ：dic_explain 字典文本描述* @param ：id 画面元素id* @param ：initValue 初始值* @param ：currentCode 空* @return：所属机构list***************************/function loadAreaDic(value, explain, id, all, status) {    var sendData = {        "dic_type" : value,        "dic_explain" : explain,        "dic_status" : status    };    $.ajax({        async : false,        type : "POST",        url : base.domain + "/init/loadAreaDic",        data : sendData,        dataType : 'json',        success : function(data) {            var list = data;            $("#" + id).empty();            if (list.length != 0) {                if (all != null) {                    $("#" + id).append("<option value ='' selected=\"selected\">" + all + "</option>");                }            }            for ( var i = 0; i < list.length; i++) {                var op = "<option value ='" + list[i].dicCode + "'>"                        + list[i].dicValue + "</option>";                if (status != null) {                    if (status == list[i].dicCode) {                        op = "<option value ='" + list[i].dicCode + ">" + list[i].dicValue                                + "</option>";                    }                }                $("#" + id).append(op);            }        }    });}/************************** 加载职业选择下拉框* @param ：jobCode 职业等级代码* @param ：id 画面元素对应的id* @param ：currentValue 初始值* @param ：currentCode 初始code* @param ：flag 同步异步flag* @return：职业list***************************/function loadOccList(jobCode, id, currentValue, currentCode, flag) {	if (currentCode == null) {		currentCode = "";	}	var sendData = {		"request" : {			"type" : jobCode,			"superCode" : currentCode		}	};	var jsonStr = JSON.stringify(sendData);	$.ajax({		async : flag,		type : "post",		url : base.domain + "/occ/getoccByType",		data : "jsonKey=" + aesEncrypt(jsonStr),		dataType : 'json',		success : function(data) {			var list = data.occs;			$("#" + id).empty();			if (currentValue != null) {				$("#" + id).append("<option value =''>" + currentValue + "</option>");			}			if (list != null) {				for ( var i = 0; i < list.length; i++) {					var op = "<option value ='" + list[i].occCode + "'>" + list[i].occName + "</option>";					if (currentCode != null) {						if (currentCode == list[i].occCode) {							op = "<option value ='" + list[i].occCode + "' selected=\"selected\">" + list[i].occName + "</option>";						}					}					$("#" + id).append(op);				}			}		}	});}/************************** 加载职业选择空的下拉框（下拉只显示"请选择"内容）* @param ：id 画面对应元素id* @param ：currentValue 默认值* @return：空的职业list***************************/function loadOccEmptyList(id, currentValue) {	$("#" + id).append("<option value =''>" + currentValue + "</option>");}//// /**// * 查询市级城市// *// * @param value// * 0-省；1-市；2-县// *// * @param id// * dom元素id *// * @param id2// * 上级元素id// * @param currentClass// * 当前级别// * @param currentCode// */// function cityutil(value, id, id2, currentClass, currentCode) {// var city = $('#' + id2 + ' option:selected').val();// if()// var sendData = {// "type" : value,// "areaCode" : currentClass// };// $.ajax({// async : true,// type : "POST",// url : base.domain + "/area/queryArea",// data : sendData,// dataType : 'json',// success : function(data) {// var list = data.obj;// $("#" + id).empty();// for ( var i = 0; i < list.length; i++) {// var op = "<option value ='" + list[i].cityCode + "'>"// + list[i].cityName + "</option>";// if (currentCode != null) {// if (currentCode == list[i].cityCode) {// op = "<option value ='" + list[i].cityCode// + "' selected=\"selected\">" + list[i].cityName// + "</option>";// }// }// $("#" + id).append(op);// }// }// });// }/** * 加载合作机构列表 *  * @param id *            dom元素id * @param all *            添加空选项 * @param currentCode */function loadCooperationList(id, all, currentCode) {		$.ajax({		async : false,		type : "POST",		url : base.domain + "/cf/loadCooperationList",		data : "",		dataType : 'json',		success : function(data) {			var list = data.returns.list;			$("#" + id).empty();			if (all != null) {				$("#" + id).append("<option value =''>" + all + "</option>");			}			for ( var i = 0; i < list.length; i++) {				var op = "<option value ='" + list[i].value + "'>"						+ list[i].name + "</option>";				if (currentCode != null) {					if (currentCode == list[i].value) {						op = "<option value ='" + list[i].value								+ "' selected=\"selected\">" + list[i].name								+ "</option>";					}				}				$("#" + id).append(op);			}		}	});}